<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
    "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">

<ui:composition xmlns="http://www.w3.org/1999/xhtml"
                xmlns:h="http://xmlns.jcp.org/jsf/html"
                xmlns:ui="http://xmlns.jcp.org/jsf/facelets"
                xmlns:p="http://primefaces.org/ui">

    <p:ajaxStatus onstart="showStatusDialog();" onsuccess="hideStatusDialog();" />

        <p:dialog  style="background-color: transparent; box-shadow: none; border: none;" widgetVar="statusDialog" modal="true" draggable="false" closable="false" resizable="false" showHeader="false">
            <p:graphicImage name="/img/ajax_loading.gif" style="background: none;" /><br></br>
            <h:outputText value="#{messages.Loading}" style="color:white;"/>     
        </p:dialog>

        <script>
            var statusDlgTimer = null;

            function showStatusDialog()
            {
                if (statusDlgTimer === null)
                {
                    statusDlgTimer = setTimeout("PF('statusDialog').show()", 0);
                }
            }

            function hideStatusDialog()
            {
                if (statusDlgTimer !== null)
                {
                    clearTimeout(statusDlgTimer);
                    PF('statusDialog').hide();
                    statusDlgTimer = null;
                }
            }

            window.onpopstate = function () {
                location.reload();
            };

        </script>

</ui:composition>